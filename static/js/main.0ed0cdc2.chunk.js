(this["webpackJsonpcio-gamble"]=this["webpackJsonpcio-gamble"]||[]).push([[0],{122:function(n,e,t){"use strict";t.r(e);var i=t(0),r=t.n(i),c=t(49),a=t.n(c),o=t(7),d=t(51),s=t(13),b=t(50),j=t.n(b),u=t(65),l=t(93),g=t(60);t(114),t(123);g.a.initializeApp({apiKey:"AIzaSyBgXjC6U_F9j2pW5XV19fZBPq2XKpvSu88",authDomain:"cio-gamble.firebaseapp.com",projectId:"cio-gamble",storageBucket:"cio-gamble.appspot.com",messagingSenderId:"114672325138",appId:"1:114672325138:web:f2d5b89e884934063b3ecb"});var f,p,x,h,O,m=g.a,k=g.a.auth(),w=g.a.firestore(),v=t(140),y=t(137),S=t(144),D=t(142),A=t(52),R=t(135),F=t(136),C=t(145),I=t(138),L=t(139),z=t(53),N=t(3),B=z.a.div(f||(f=Object(A.a)(["\n  height: 100%;\n  width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: linear-gradient(\n    124deg,\n    #ff2400,\n    #e81d1d,\n    #e8b71d,\n    #e3e81d,\n    #1de840,\n    #1ddde8,\n    #2b1de8,\n    #dd00f3,\n    #dd00f3\n  );\n  color: #ffffff;\n  background-size: 1800% 1800%;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n\n  -webkit-animation: rainbow 18s ease infinite;\n  -z-animation: rainbow 18s ease infinite;\n  -o-animation: rainbow 18s ease infinite;\n  animation: rainbow 18s ease infinite;\n\n  @-webkit-keyframes rainbow {\n    0% {\n      background-position: 0% 82%;\n    }\n    50% {\n      background-position: 100% 19%;\n    }\n    100% {\n      background-position: 0% 82%;\n    }\n  }\n  @-moz-keyframes rainbow {\n    0% {\n      background-position: 0% 82%;\n    }\n    50% {\n      background-position: 100% 19%;\n    }\n    100% {\n      background-position: 0% 82%;\n    }\n  }\n  @-o-keyframes rainbow {\n    0% {\n      background-position: 0% 82%;\n    }\n    50% {\n      background-position: 100% 19%;\n    }\n    100% {\n      background-position: 0% 82%;\n    }\n  }\n  @keyframes rainbow {\n    0% {\n      background-position: 0% 82%;\n    }\n    50% {\n      background-position: 100% 19%;\n    }\n    100% {\n      background-position: 0% 82%;\n    }\n  }\n"]))),E=z.a.div(p||(p=Object(A.a)(["\n  background-color: #c0c0c0;\n  color: #ffffff;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n"]))),U=z.a.div(x||(x=Object(A.a)(["\n  background-color: #ffd700;\n  color: #ffffff;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n"]))),W=z.a.div(h||(h=Object(A.a)(["\n  background-color: #b08d57;\n  color: #ffffff;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n"]))),M=z.a.div(O||(O=Object(A.a)(["\n  background-color: #D3D3D3;\n  color: #ffffff;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n"]))),P=function(n){var e=n.board;return Object(N.jsx)(R.a,{spacing:3,children:e.sort((function(n,e){return e.coin-n.coin})).map((function(n,e){return Object(N.jsx)(R.b,{children:Object(N.jsxs)(F.a,{children:[Object(N.jsx)(C.a,{src:n.photoURL}),Object(N.jsxs)(y.a,{ml:"3",children:[Object(N.jsxs)(I.a,{fontWeight:"bold",children:[0===e?Object(N.jsxs)(N.Fragment,{children:["\ud83e\udd47",n.displayName]}):1===e?Object(N.jsxs)(N.Fragment,{children:["\ud83e\udd48",n.displayName]}):2===e?Object(N.jsxs)(N.Fragment,{children:["\ud83e\udd49",n.displayName]}):Object(N.jsx)(N.Fragment,{children:n.displayName}),Object(N.jsx)(L.a,{ml:2,colorScheme:"",children:0===e?Object(N.jsxs)(B,{children:[e+1,"\ub4f1"]}):1===e?Object(N.jsxs)(U,{children:[e+1,"\ub4f1"]}):2===e?Object(N.jsxs)(E,{children:[e+1,"\ub4f1"]}):3===e?Object(N.jsxs)(W,{children:[e+1,"\ub4f1"]}):Object(N.jsxs)(M,{children:[e+1,"\ub4f1"]})})]}),Object(N.jsx)(I.a,{fontSize:"sm",children:n.coin})]})]})},n.id)}))})},X=function(){return Object(N.jsx)(N.Fragment,{children:"\ud83c\udfb0 \ube44-\ud604\uc2e4 \ucf54\uc778 \ub3c4\ubc15 \uc5c5\ub370\uc774\ud2b8 \uc900\ube44 \uc911!"})},Y=function(n){var e=n.user,t=Object(i.useState)([]),r=Object(o.a)(t,2),c=r[0],a=r[1],d=Object(i.useState)(0),s=Object(o.a)(d,2),b=s[0],g=s[1],f=Object(i.useState)(10),p=Object(o.a)(f,2),x=p[0],h=p[1],O=Object(i.useState)(!1),m=Object(o.a)(O,2),k=m[0],A=m[1],R=Object(D.a)();Object(i.useEffect)((function(){w.collection("cio").onSnapshot((function(n){var t=n.docs.map((function(n){return Object(l.a)({id:n.id},n.data())}));a(t),t.length>0&&g(t.filter((function(n){return n.uid===e.uid})).reduce((function(n,e){return n+e.coin}),0))}))}),[]),Object(i.useEffect)((function(){console.log(e.uid),console.log(c);var n=c.filter((function(n){return n.uid===e.uid}))[0];n&&A(F(new Date,new Date(n.updatedAt)))}),[c]);var F=function(n,e){return n.getFullYear().toString()+n.getMonth().toString()+n.getDate().toString()<=e.getFullYear().toString()+e.getMonth().toString()+e.getDate().toString()},C=function(){var n=Object(u.a)(j.a.mark((function n(){var t,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=c.find((function(n){return n.uid===e.uid})),i=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/1e8),h(i),!t){n.next=8;break}return n.next=6,w.doc("cio/".concat(t.id)).update({coin:b+i,updatedAt:Date.now()});case 6:n.next=10;break;case 8:return n.next=10,w.collection("cio").add({coin:i,createdAt:Date.now(),uid:e.uid,displayName:e.displayName,updatedAt:Date.now(),photoURL:e.photoURL});case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(N.jsxs)(v.a,{children:[Object(N.jsx)(y.a,{padding:"4",bg:"#f8eded",children:k?Object(N.jsx)(S.a,{mr:"-px",bg:"#eeb76b",border:"2px",borderColor:"#E9AD03",children:"\ud83d\ude4c\uc801\ub9bd \uc644\ub8cc!"}):Object(N.jsx)(S.a,{type:"submit",mr:"-px",bg:"#eeb76b",border:"2px",borderColor:"#E9AD03",onClick:function(){R({title:"\ucf54\uc778\uc774 \uc801\ub9bd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",description:"\uc801\ub9bd \ucf54\uc778\uc740 ".concat(x,"\uc6d0\uc785\ub2c8\ub2e4."),status:"success",duration:9e3,isClosable:!0}),C(),A(!0)},children:"\ud83d\udcb0\uc624\ub298\uc758 \ucf54\uc778 \uc801\ub9bd"})}),Object(N.jsx)(y.a,{padding:"4",bg:"#f6dfeb",children:Object(N.jsx)(P,{user:e,board:c})}),Object(N.jsx)(y.a,{padding:"4",bg:"#f6dfeb",children:Object(N.jsx)(X,{})})]})},J=t(102),K=function(){var n=function(){var n=Object(u.a)(j.a.mark((function n(e){var t,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"google"===e.target.name&&(t=new m.auth.GoogleAuthProvider),n.next=3,k.signInWithPopup(t);case 3:i=n.sent,console.log(i);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(N.jsx)(v.a,{centerContent:!0,children:Object(N.jsx)(y.a,{padding:"4",bg:"gray.100",children:Object(N.jsx)(S.a,{leftIcon:Object(N.jsx)(J.a,{}),colorScheme:"messenger",onClick:n,name:"google",children:"\uad6c\uae00 \ub85c\uadf8\uc778"})})})},T=function(n){var e=n.user;return Object(N.jsx)(v.a,{children:Object(N.jsxs)(y.a,{padding:"4",bg:"gray.100",children:[Object(N.jsx)("li",{children:Object(N.jsx)("img",{src:e.photoURL})}),Object(N.jsxs)("li",{children:["\ub85c\uadf8\uc778\ud55c \uacc4\uc815 ",e.displayName]}),Object(N.jsxs)("li",{children:["\ub85c\uadf8\uc778\ud55c \uc774\uba54\uc77c ",e.email]}),Object(N.jsx)("button",{onClick:function(){return k.signOut()},children:"Log Out"})]})})},V=t(141),q=function(n){var e=n.user;return Object(N.jsx)(v.a,{children:Object(N.jsx)(y.a,{padding:"4",bg:"#caf7e3",borderTopLeftRadius:5,borderTopRightRadius:5,children:Object(N.jsxs)(V.a,{fontWeight:"medium",fontSize:"sm",children:[Object(N.jsx)(V.b,{children:Object(N.jsx)(d.c,{to:"/",children:"\ud648"})}),Object(N.jsx)(V.b,{children:Object(N.jsxs)(d.c,{to:"/profile",children:[e.displayName,"\ub2d8 \ubc18\uac11\uc2b5\ub2c8\ub2e4!"]})})]})})})},G=function(n){var e=n.isLoggedIn;return Object(N.jsx)(d.a,{basename:"/cio",children:Object(N.jsxs)(d.b,{children:[e&&Object(N.jsx)(q,{user:e}),Object(N.jsxs)(s.d,{children:[e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(s.b,{exact:!0,path:"/",children:Object(N.jsx)(Y,{user:e})}),Object(N.jsx)(s.b,{exact:!0,path:"/profile",children:Object(N.jsx)(T,{user:e})})]}):Object(N.jsx)(s.b,{exact:!0,path:"/",children:Object(N.jsx)(K,{})}),Object(N.jsx)(s.a,{from:"*",to:"/"})]})]})})},Z=t(143);var _=function(){var n=Object(i.useState)(!1),e=Object(o.a)(n,2),t=e[0],r=e[1],c=Object(i.useState)(!1),a=Object(o.a)(c,2),d=a[0],s=a[1];return Object(i.useEffect)((function(){k.onAuthStateChanged((function(n){s(n||!1)})),r(!0)}),[]),Object(N.jsxs)(Z.a,{children:[t?Object(N.jsx)(G,{isLoggedIn:d}):"initializing...",Object(N.jsx)(v.a,{children:Object(N.jsx)(y.a,{padding:"4",bg:"#e4bad4",borderBottomLeftRadius:5,borderBottomRightRadius:5,children:Object(N.jsxs)(I.a,{style:{color:"white",fontWeight:"bold"},children:["\ud83e\udd84 \ucd9c\uccb5\ucf54\uc778, ",(new Date).getFullYear()," "]})})})]})};a.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(_,{})}),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.0ed0cdc2.chunk.js.map