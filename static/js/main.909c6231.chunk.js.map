{"version":3,"sources":["fbase.js","components/CoinBoard.js","components/Announcement.js","components/Status.js","routes/Home.js","routes/Auth.js","routes/Profile.js","routes/Admin.js","components/Navigation.js","components/Router.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","auth","dbService","firestore","Rainbow","styled","div","Silver","Gold","Bronze","Normal","CoinBoard","board","spacing","sort","a","b","coin","map","data","index","src","photoURL","ml","fontWeight","displayName","colorScheme","fontSize","id","Announcement","as","Status","matchDocument","padding","bg","coupon","Home","user","useState","userCoin","setUserCoin","userCoupon","setUserCoupon","setMatchDocument","freeButtonClicked","setFreeButtonClicked","setBoard","toast","useToast","useEffect","collection","onSnapshot","_snapshot","newArray","docs","_document","_matchDocument","getMatchSavedDocumentByUid","hanbunman","isFirstTry","couponTimeStamp","get","test","result","forEach","document","push","undefined","firstUserSetup","add","createdAt","Date","now","updatedAt","uid","getFreeCoupon","doc","update","_time","lastDate","nowDate","getFullYear","getMonth","getDate","console","log","_board","filter","_data","getRandomInt","_min","_max","byteArray","Uint8Array","window","crypto","getRandomValues","range","Math","floor","buyCoin","property","randomCoin","title","description","status","duration","isClosable","buyCoupon","space","mr","border","borderColor","onClick","disabled","Auth","onSocialClick","event","target","name","provider","GoogleAuthProvider","signInWithPopup","centerContent","leftIcon","Profile","email","signOut","Admin","matchDocuments","setMatchDocuments","qValue","setQvalue","aValue","setAvalue","handleInputChange","value","quiz","answer","giveFreeCoupon","mb","onChange","placeholder","size","Navigation","borderTopLeftRadius","borderTopRightRadius","to","AppRouter","basename","exact","path","from","App","init","setInit","userObject","setUserObject","onAuthStateChanged","borderBottomLeftRadius","borderBottomRightRadius","style","color","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.909c6231.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseInstance = firebase;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\n","import {\r\n  List,\r\n  ListItem,\r\n  Flex,\r\n  Avatar,\r\n  Box,\r\n  Text,\r\n  Badge,\r\n  Button,\r\n  Spacer\r\n} from \"@chakra-ui/react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Rainbow = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(\r\n    124deg,\r\n    #ff2400,\r\n    #e81d1d,\r\n    #e8b71d,\r\n    #e3e81d,\r\n    #1de840,\r\n    #1ddde8,\r\n    #2b1de8,\r\n    #dd00f3,\r\n    #dd00f3\r\n  );\r\n  color: #ffffff;\r\n  background-size: 1800% 1800%;\r\n  border-radius: 2px;\r\n  padding-right: 5px;\r\n  padding-left: 5px;\r\n  margin-bottom: 4px;\r\n\r\n  -webkit-animation: rainbow 18s ease infinite;\r\n  -z-animation: rainbow 18s ease infinite;\r\n  -o-animation: rainbow 18s ease infinite;\r\n  animation: rainbow 18s ease infinite;\r\n\r\n  @-webkit-keyframes rainbow {\r\n    0% {\r\n      background-position: 0% 82%;\r\n    }\r\n    50% {\r\n      background-position: 100% 19%;\r\n    }\r\n    100% {\r\n      background-position: 0% 82%;\r\n    }\r\n  }\r\n  @-moz-keyframes rainbow {\r\n    0% {\r\n      background-position: 0% 82%;\r\n    }\r\n    50% {\r\n      background-position: 100% 19%;\r\n    }\r\n    100% {\r\n      background-position: 0% 82%;\r\n    }\r\n  }\r\n  @-o-keyframes rainbow {\r\n    0% {\r\n      background-position: 0% 82%;\r\n    }\r\n    50% {\r\n      background-position: 100% 19%;\r\n    }\r\n    100% {\r\n      background-position: 0% 82%;\r\n    }\r\n  }\r\n  @keyframes rainbow {\r\n    0% {\r\n      background-position: 0% 82%;\r\n    }\r\n    50% {\r\n      background-position: 100% 19%;\r\n    }\r\n    100% {\r\n      background-position: 0% 82%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Silver = styled.div`\r\n  background-color: #c0c0c0;\r\n  color: #ffffff;\r\n  border-radius: 2px;\r\n  padding-right: 5px;\r\n  padding-left: 5px;\r\n  margin-bottom: 4px;\r\n`;\r\nconst Gold = styled.div`\r\n  background-color: #ffd700;\r\n  color: #ffffff;\r\n  border-radius: 2px;\r\n  padding-right: 5px;\r\n  padding-left: 5px;\r\n  margin-bottom: 4px;\r\n`;\r\nconst Bronze = styled.div`\r\n  background-color: #b08d57;\r\n  color: #ffffff;\r\n  border-radius: 2px;\r\n  padding-right: 5px;\r\n  padding-left: 5px;\r\n  margin-bottom: 4px;\r\n`;\r\nconst Normal = styled.div`\r\n  background-color: #d3d3d3;\r\n  color: #ffffff;\r\n  border-radius: 2px;\r\n  padding-right: 5px;\r\n  padding-left: 5px;\r\n  margin-bottom: 4px;\r\n`;\r\n\r\nconst CoinBoard = ({ board }) => {\r\n  return (\r\n    <List spacing={3}>\r\n      {board\r\n        .sort((a, b) => b.coin - a.coin)\r\n        .map((data, index) => (\r\n          <ListItem key={data.id}>\r\n            <Flex>\r\n              <Avatar src={data.photoURL} />\r\n              <Box>\r\n                <Box ml=\"5\">\r\n                  <Text fontWeight=\"bold\">\r\n                    {index === 0 ? (\r\n                      <>🥇{data.displayName}</>\r\n                    ) : index === 1 ? (\r\n                      <>🥈{data.displayName}</>\r\n                    ) : index === 2 ? (\r\n                      <>🥉{data.displayName}</>\r\n                    ) : (\r\n                      <>{data.displayName}</>\r\n                    )}\r\n                    <Badge ml={2} colorScheme=\"\">\r\n                      {index === 0 ? (\r\n                        <Rainbow>{index + 1}등</Rainbow>\r\n                      ) : index === 1 ? (\r\n                        <Gold>{index + 1}등</Gold>\r\n                      ) : index === 2 ? (\r\n                        <Silver>{index + 1}등</Silver>\r\n                      ) : index === 3 ? (\r\n                        <Bronze>{index + 1}등</Bronze>\r\n                      ) : (\r\n                        <Normal>{index + 1}등</Normal>\r\n                      )}\r\n                    </Badge>\r\n                  </Text>\r\n                  <Text fontSize=\"sm\">{data.coin}</Text>\r\n                </Box>\r\n              </Box>\r\n            </Flex>\r\n          </ListItem>\r\n        ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default CoinBoard;\r\n","import { Text } from \"@chakra-ui/react\";\r\n\r\nconst Announcement = () => {\r\n  return (\r\n    <>\r\n      <Text as=\"i\">💸 쿠폰 5개 이벤트 증정!</Text><br/>\r\n      <Text as=\"i\">🎰 확률 5% 잭팟, 20% 평타, 80% 떡락</Text>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Announcement;\r\n","import {\r\n  Box,\r\n  Stat,\r\n  StatLabel,\r\n  StatNumber,\r\n  StatHelpText,\r\n  StatArrow,\r\n  StatGroup,\r\n} from \"@chakra-ui/react\";\r\n\r\nconst Status = ({ matchDocument }) => {\r\n  return (\r\n    <Box padding=\"4\" bg=\"#FAF1E6\">\r\n      <StatGroup>\r\n        <Stat>\r\n          <StatLabel>💸 보유 코인</StatLabel>\r\n          <StatNumber>{matchDocument.coin}</StatNumber>\r\n          {/* <StatHelpText>\r\n            <StatArrow type=\"increase\" />\r\n            23.36%\r\n          </StatHelpText> */}\r\n        </Stat>\r\n        <Stat>\r\n          <StatLabel>💳 보유 쿠폰</StatLabel>\r\n          <StatNumber>{matchDocument.coupon}</StatNumber>\r\n          {/* <StatHelpText>\r\n            <StatArrow type=\"decrease\" />\r\n            9.05%\r\n          </StatHelpText> */}\r\n        </Stat>\r\n      </StatGroup>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Status;\r\n","import { dbService } from \"fbase\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Container, Box, Button, Flex, ButtonGroup } from \"@chakra-ui/react\";\r\nimport { useToast } from \"@chakra-ui/react\";\r\n\r\nimport CoinBoard from \"components/CoinBoard\";\r\nimport Announcement from \"components/Announcement\";\r\nimport Status from \"components/Status\";\r\n\r\nconst Home = ({ user }) => {\r\n  const [userCoin, setUserCoin] = useState(0);\r\n  const [userCoupon, setUserCoupon] = useState(0);\r\n  const [matchDocument, setMatchDocument] = useState(false);\r\n  const [freeButtonClicked, setFreeButtonClicked] = useState(false);\r\n  const [board, setBoard] = useState([]);\r\n  const toast = useToast();\r\n\r\n  useEffect(() => {\r\n    dbService.collection(\"cio\").onSnapshot((_snapshot) => {\r\n      const newArray = _snapshot.docs.map((_document) => ({\r\n        id: _document.id,\r\n        ..._document.data(),\r\n      }));\r\n\r\n      // 실시간 DB(board)를 board에 계속 반영\r\n      setBoard(newArray);\r\n\r\n      // match 유저를 찾으면 쿠폰과 코인 등록\r\n      const _matchDocument = getMatchSavedDocumentByUid(newArray);\r\n      if (_matchDocument) {\r\n        setUserCoupon(_matchDocument.coupon);\r\n        setUserCoin(_matchDocument.coin);\r\n        setMatchDocument(_matchDocument);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    hanbunman();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (matchDocument)\r\n      setFreeButtonClicked(!isFirstTry(matchDocument.couponTimeStamp));\r\n  }, [matchDocument]);\r\n\r\n  const hanbunman = async () => {\r\n    const test = await dbService.collection(\"cio\").get();\r\n    const result = [];\r\n\r\n    test.forEach((document) => {\r\n      result.push(document.data());\r\n    });\r\n\r\n    if (getMatchSavedDocumentByUid(result) === undefined) {\r\n      firstUserSetup();\r\n    }\r\n  };\r\n\r\n  const firstUserSetup = async () => {\r\n    if (user) {\r\n      await dbService.collection(\"cio\").add({\r\n        coin: 0,\r\n        coupon: 1,\r\n        createdAt: Date.now(),\r\n        updatedAt: Date.now(),\r\n        couponTimeStamp: Date.now(),\r\n        uid: user.uid,\r\n        displayName: user.displayName,\r\n        photoURL: user.photoURL,\r\n      });\r\n    }\r\n  };\r\n\r\n  const getFreeCoupon = async () => {\r\n    if (matchDocument) {\r\n      await dbService.doc(`cio/${matchDocument.id}`).update({\r\n        coupon: userCoupon + 1,\r\n        updatedAt: Date.now(),\r\n        couponTimeStamp: Date.now(),\r\n      });\r\n    }\r\n  };\r\n\r\n  const isFirstTry = (_time) => {\r\n    const lastDate = new Date(_time * 1);\r\n    const nowDate = new Date(\r\n      new Date().getFullYear(),\r\n      new Date().getMonth(),\r\n      new Date().getDate()\r\n    );\r\n    console.log(nowDate, lastDate);\r\n    return nowDate > lastDate;\r\n  };\r\n\r\n  const getMatchSavedDocumentByUid = (_board) => {\r\n    return _board.filter((_data) => _data.uid === user.uid)[0];\r\n  };\r\n\r\n  const getRandomInt = (_min, _max) => {\r\n    var byteArray = new Uint8Array(1);\r\n    window.crypto.getRandomValues(byteArray);\r\n\r\n    var range = _max - _min + 1;\r\n    var max_range = 256;\r\n    if (byteArray[0] >= Math.floor(max_range / range) * range)\r\n      return getRandomInt(_min, _max);\r\n    return _min + (byteArray[0] % range);\r\n  };\r\n\r\n  const buyCoin = async () => {\r\n    let property = getRandomInt(1, 100);\r\n    let randomCoin = 0;\r\n\r\n    if (property > 80) {\r\n      randomCoin = getRandomInt(20, 35);\r\n      property = getRandomInt(1, 100);\r\n      // 20프로, 10프로\r\n      if (property > 90) {\r\n        randomCoin = getRandomInt(40, 50);\r\n      }\r\n    } else {\r\n      randomCoin = getRandomInt(1, 19);\r\n    }\r\n\r\n    if (matchDocument && userCoupon > 0) {\r\n      await dbService.doc(`cio/${matchDocument.id}`).update({\r\n        coin: userCoin + randomCoin,\r\n        coupon: userCoupon - 1,\r\n        updatedAt: Date.now(),\r\n      });\r\n    }\r\n\r\n    toast({\r\n      title: \"코인이 적립되었습니다.\",\r\n      description: `코인이 ${randomCoin}개 적립되었습니다.`,\r\n      status: \"success\",\r\n      duration: 1000,\r\n      isClosable: true,\r\n    });\r\n  };\r\n\r\n  const buyCoupon = async () => {\r\n    if (matchDocument && userCoin >= 20) {\r\n      await dbService.doc(`cio/${matchDocument.id}`).update({\r\n        coin: userCoin - 20,\r\n        coupon: userCoupon + 1,\r\n        updatedAt: Date.now(),\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Status matchDocument={matchDocument}/>\r\n      <Box padding=\"4\" bg=\"#f8eded\">\r\n        <Flex space=\"4\">\r\n          <Box>\r\n            {freeButtonClicked ? (\r\n              <Button\r\n                mr=\"-px\"\r\n                bg=\"#eeb76b\"\r\n                border=\"2px\"\r\n                borderColor=\"#E9AD03\"\r\n                onClick={buyCoin}\r\n                disabled={userCoupon ? false : true}\r\n              >\r\n                💰 코인 구매\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                bg=\"#eeb76b\"\r\n                border=\"2px\"\r\n                borderColor=\"#E9AD03\"\r\n                onClick={getFreeCoupon}\r\n              >\r\n                🎟️ 무료 쿠폰 받기\r\n              </Button>\r\n            )}\r\n          </Box>\r\n          <Box>\r\n            <ButtonGroup>\r\n              <Button\r\n                bg=\"#e798ae\"\r\n                border=\"2px\"\r\n                ml={4}\r\n                mr=\"-px\"\r\n                borderColor=\"#e4bad4\"\r\n                onClick={buyCoupon}\r\n                disabled={userCoin >= 20 ? false : true}\r\n              >\r\n                🎟️ 쿠폰 구입(20원)\r\n              </Button>\r\n            </ButtonGroup>\r\n          </Box>\r\n        </Flex>\r\n      </Box>\r\n      <Box padding=\"4\" bg=\"#f6dfeb\">\r\n        <CoinBoard user={user} board={board} />\r\n      </Box>\r\n      <Box padding=\"4\" bg=\"#faf3f3\">\r\n        <Announcement />\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { authService, firebaseInstance } from \"fbase\";\r\nimport { Button, ButtonGroup, Container, Box } from \"@chakra-ui/react\";\r\nimport { FcGoogle } from \"react-icons/fc\";\r\n\r\nconst Auth = () => {\r\n  const onSocialClick = async (event) => {\r\n    let provider;\r\n    if (event.target.name === \"google\") {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    }\r\n    const data = await authService.signInWithPopup(provider);\r\n    console.log(data);\r\n  };\r\n  return (\r\n    <Container centerContent>\r\n      <Box padding=\"4\" bg=\"gray.100\">\r\n        <Button\r\n          leftIcon={<FcGoogle />}\r\n          colorScheme=\"messenger\"\r\n          onClick={onSocialClick}\r\n          name=\"google\"\r\n        >\r\n          구글 로그인\r\n        </Button>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import { authService } from \"fbase\";\r\nimport { Container, Box } from \"@chakra-ui/react\";\r\n\r\nconst Profile = ({ user }) => {\r\n  const onLogOutClick = () => authService.signOut();\r\n  return (\r\n    <Container>\r\n      <Box padding=\"4\" bg=\"gray.100\">\r\n        <li>\r\n          <img src={user.photoURL} />\r\n        </li>\r\n        <li>로그인한 계정 {user.displayName}</li>\r\n        <li>로그인한 이메일 {user.email}</li>\r\n        <button onClick={onLogOutClick}>Log Out</button>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { Container, Box, Button, Text, Textarea } from \"@chakra-ui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { dbService } from \"fbase\";\r\n\r\nconst Admin = () => {\r\n  const [matchDocuments, setMatchDocuments] = useState(false);\r\n  const [qValue, setQvalue] = useState(\"\");\r\n  const [aValue, setAvalue] = useState(\"\");\r\n\r\n  const handleInputChange = (event) => {\r\n    if (event.target.name === \"quiz\") {\r\n      setQvalue(event.target.value);\r\n    } else if (event.target.name === \"answer\") {\r\n      setAvalue(event.target.value);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dbService.collection(\"cio\").onSnapshot((_snapshot) => {\r\n      const newArray = _snapshot.docs.map((_document) => ({\r\n        id: _document.id,\r\n        ..._document.data(),\r\n      }));\r\n      setMatchDocuments(newArray);\r\n    });\r\n  }, []);\r\n\r\n  const giveFreeCoupon = async () => {\r\n    matchDocuments.forEach((matchDocument) => {\r\n      dbService.doc(`cio/${matchDocument.id}`).update({\r\n        coupon: matchDocument.coupon + 5,\r\n        updatedAt: Date.now(),\r\n      });\r\n    });\r\n  };\r\n\r\n  const addQuiz = (quiz, answer) => {\r\n    dbService.collection(\"quiz\").add({\r\n      quiz: quiz,\r\n      answer: answer,\r\n      createdAt: Date.now(),\r\n      updatedAt: Date.now(),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Text mb=\"8px\">퀴즈</Text>\r\n      <Textarea\r\n        value={qValue}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Here is a sample placeholder\"\r\n        size=\"sm\"\r\n        name=\"quiz\"\r\n      />\r\n      <Text mb=\"8px\">정답</Text>\r\n      <Textarea\r\n        value={aValue}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Here is a sample placeholder\"\r\n        size=\"sm\"\r\n        name=\"answer\"\r\n      />\r\n      <Button onClick={addQuiz(qValue, aValue)}>퀴즈 등록</Button>\r\n      <Button onClick={giveFreeCoupon}>무료 쿠폰 증정</Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import {\r\n  Box,\r\n  Container,\r\n  Breadcrumb,\r\n  BreadcrumbItem,\r\n  BreadcrumbLink,\r\n  BreadcrumbSeparator,\r\n} from \"@chakra-ui/react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Navigation = ({ user }) => {\r\n  return (\r\n    <Container>\r\n      <Box\r\n        padding=\"4\"\r\n        bg=\"#caf7e3\"\r\n        borderTopLeftRadius={5}\r\n        borderTopRightRadius={5}\r\n      >\r\n        <Breadcrumb fontWeight=\"medium\" fontSize=\"sm\">\r\n          <BreadcrumbItem>\r\n            <Link to=\"/\">🏠 홈</Link>\r\n          </BreadcrumbItem>\r\n          <BreadcrumbItem>\r\n            <Link to=\"/profile\">🧟 {user.displayName}님 반갑습니다!</Link>\r\n          </BreadcrumbItem>\r\n          {user.uid === \"BlPR1gz2x6RuoIukzh3Vkq5YbyB2\" && (\r\n            <BreadcrumbItem>\r\n              <Link to=\"/admin\">운영자 메뉴</Link>\r\n            </BreadcrumbItem>\r\n          )}\r\n        </Breadcrumb>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import {\r\n  HashRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n  BrowserRouter,\r\n} from \"react-router-dom\";\r\nimport Home from \"routes/Home\";\r\nimport Auth from \"routes/Auth\";\r\nimport Profile from \"routes/Profile\";\r\nimport Admin from \"routes/Admin\";\r\nimport Navigation from \"./Navigation\";\r\n\r\nconst AppRouter = ({ user }) => {\r\n  return (\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <Router>\r\n        {user && <Navigation user={user} />}\r\n        <Switch>\r\n          {user ? (\r\n            <>\r\n              <Route exact path=\"/\">\r\n                <Home user={user} />\r\n              </Route>\r\n              <Route exact path=\"/profile\">\r\n                <Profile user={user} />\r\n              </Route>\r\n              <Route exact path=\"/admin\">\r\n                <Admin user={user} />\r\n              </Route>\r\n            </>\r\n          ) : (\r\n            <Route exact path=\"/\">\r\n              <Auth />\r\n            </Route>\r\n          )}\r\n          <Redirect from=\"*\" to=\"/\" />\r\n        </Switch>\r\n      </Router>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import AppRouter from \"components/Router\";\r\nimport { ChakraProvider, Container, Box, Text } from \"@chakra-ui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { authService } from \"fbase\";\r\n\r\nconst App = () => {\r\n  const [init, setInit] = useState(false);\r\n  const [userObject, setUserObject] = useState(false);\r\n\r\n  useEffect(() => {\r\n    authService.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        setUserObject(user);\r\n      } else {\r\n        setUserObject(false);\r\n      }\r\n    });\r\n    setInit(true);\r\n  }, []);\r\n\r\n  return (\r\n    <ChakraProvider>\r\n      {init ? <AppRouter user={userObject} /> : \"initializing...\"}\r\n      <Container>\r\n        <Box\r\n          padding=\"4\"\r\n          bg=\"#e4bad4\"\r\n          borderBottomLeftRadius={5}\r\n          borderBottomRightRadius={5}\r\n        >\r\n          <Text style={{ color: \"white\", fontWeight: \"bold\" }}>\r\n            🦄 출첵코인, {new Date().getFullYear()}{\" \"}\r\n          </Text>\r\n        </Box>\r\n      </Container>\r\n    </ChakraProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}