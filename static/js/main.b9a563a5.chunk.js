(this["webpackJsonpcio-gamble"]=this["webpackJsonpcio-gamble"]||[]).push([[0],{122:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),c=t(49),a=t.n(c),o=t(7),d=t(51),s=t(13),b=t(50),j=t.n(b),u=t(65),l=t(93),f=t(60);t(114),t(123);f.a.initializeApp({apiKey:"AIzaSyBgXjC6U_F9j2pW5XV19fZBPq2XKpvSu88",authDomain:"cio-gamble.firebaseapp.com",projectId:"cio-gamble",storageBucket:"cio-gamble.appspot.com",messagingSenderId:"114672325138",appId:"1:114672325138:web:f2d5b89e884934063b3ecb"});var p,g,x,h,O,m=f.a,k=f.a.auth(),w=f.a.firestore(),v=t(140),y=t(137),S=t(136),D=t(144),A=t(142),R=t(52),C=t(135),z=t(145),F=t(138),I=t(139),L=t(53),N=t(3),B=L.a.div(p||(p=Object(R.a)(["\n  height: 100%;\n  width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: linear-gradient(\n    124deg,\n    #ff2400,\n    #e81d1d,\n    #e8b71d,\n    #e3e81d,\n    #1de840,\n    #1ddde8,\n    #2b1de8,\n    #dd00f3,\n    #dd00f3\n  );\n  color: #ffffff;\n  background-size: 1800% 1800%;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n\n  -webkit-animation: rainbow 18s ease infinite;\n  -z-animation: rainbow 18s ease infinite;\n  -o-animation: rainbow 18s ease infinite;\n  animation: rainbow 18s ease infinite;\n\n  @-webkit-keyframes rainbow {\n    0% {\n      background-position: 0% 82%;\n    }\n    50% {\n      background-position: 100% 19%;\n    }\n    100% {\n      background-position: 0% 82%;\n    }\n  }\n  @-moz-keyframes rainbow {\n    0% {\n      background-position: 0% 82%;\n    }\n    50% {\n      background-position: 100% 19%;\n    }\n    100% {\n      background-position: 0% 82%;\n    }\n  }\n  @-o-keyframes rainbow {\n    0% {\n      background-position: 0% 82%;\n    }\n    50% {\n      background-position: 100% 19%;\n    }\n    100% {\n      background-position: 0% 82%;\n    }\n  }\n  @keyframes rainbow {\n    0% {\n      background-position: 0% 82%;\n    }\n    50% {\n      background-position: 100% 19%;\n    }\n    100% {\n      background-position: 0% 82%;\n    }\n  }\n"]))),E=L.a.div(g||(g=Object(R.a)(["\n  background-color: #c0c0c0;\n  color: #ffffff;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n"]))),U=L.a.div(x||(x=Object(R.a)(["\n  background-color: #ffd700;\n  color: #ffffff;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n"]))),W=L.a.div(h||(h=Object(R.a)(["\n  background-color: #b08d57;\n  color: #ffffff;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n"]))),M=L.a.div(O||(O=Object(R.a)(["\n  background-color: #d3d3d3;\n  color: #ffffff;\n  border-radius: 2px;\n  padding-right: 5px;\n  padding-left: 5px;\n  margin-bottom: 4px;\n"]))),T=function(e){var n=e.board;return Object(N.jsx)(C.a,{spacing:3,children:n.sort((function(e,n){return n.coin-e.coin})).map((function(e,n){return Object(N.jsx)(C.b,{children:Object(N.jsxs)(S.a,{children:[Object(N.jsx)(z.a,{src:e.photoURL}),Object(N.jsx)(y.a,{children:Object(N.jsxs)(y.a,{ml:"5",children:[Object(N.jsxs)(F.a,{fontWeight:"bold",children:[0===n?Object(N.jsxs)(N.Fragment,{children:["\ud83e\udd47",e.displayName]}):1===n?Object(N.jsxs)(N.Fragment,{children:["\ud83e\udd48",e.displayName]}):2===n?Object(N.jsxs)(N.Fragment,{children:["\ud83e\udd49",e.displayName]}):Object(N.jsx)(N.Fragment,{children:e.displayName}),Object(N.jsx)(I.a,{ml:2,colorScheme:"",children:0===n?Object(N.jsxs)(B,{children:[n+1,"\ub4f1"]}):1===n?Object(N.jsxs)(U,{children:[n+1,"\ub4f1"]}):2===n?Object(N.jsxs)(E,{children:[n+1,"\ub4f1"]}):3===n?Object(N.jsxs)(W,{children:[n+1,"\ub4f1"]}):Object(N.jsxs)(M,{children:[n+1,"\ub4f1"]})})]}),Object(N.jsx)(F.a,{fontSize:"sm",children:e.coin})]})})]})},e.id)}))})},P=function(){return Object(N.jsx)(F.a,{as:"i",children:"\ud83c\udfb0 \ube44-\ud604\uc2e4 \ucf54\uc778 \ub3c4\ubc15 \uc5c5\ub370\uc774\ud2b8 \uc900\ube44 \uc911!"})},X=function(e){var n=e.user,t=Object(i.useState)([]),r=Object(o.a)(t,2),c=r[0],a=r[1],d=Object(i.useState)(0),s=Object(o.a)(d,2),b=s[0],f=s[1],p=Object(i.useState)(!1),g=Object(o.a)(p,2),x=g[0],h=g[1],O=Object(A.a)();Object(i.useEffect)((function(){w.collection("cio").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}));a(t),t.length>0&&f(t.filter((function(e){return e.uid===n.uid})).reduce((function(e,n){return e+n.coin}),0))}))}),[]),Object(i.useEffect)((function(){var e=k(),n=new Date,t=n.getTime()+60*n.getTimezoneOffset()*1e3,i=324e5,r=new Date(t+i);e&&h(m(r,new Date(e.updatedAt+i)))}),[c]);var m=function(e,n){return e.getFullYear().toString()+e.getMonth().toString()+e.getDate().toString()>=n.getFullYear().toString()+n.getMonth().toString()+n.getDate().toString()},k=function(){return c.filter((function(e){return e.uid===n.uid}))[0]},R=function e(n,t){var i=new Uint8Array(1);window.crypto.getRandomValues(i);var r=t-n+1;return i[0]>=Math.floor(256/r)*r?e(n,t):n+i[0]%r},C=function(){var e=Object(u.a)(j.a.mark((function e(){var t,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.find((function(e){return e.uid===n.uid})),i=R(0,99),!t){e.next=7;break}return e.next=5,w.doc("cio/".concat(t.id)).update({coin:b+i,coupon:k().coupon+1,updatedAt:Date.now()});case 5:e.next=9;break;case 7:return e.next=9,w.collection("cio").add({coin:i,coupon:1,createdAt:Date.now(),uid:n.uid,displayName:n.displayName,updatedAt:Date.now(),photoURL:n.photoURL});case 9:O({title:"\ucf54\uc778\uc774 \uc801\ub9bd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",description:"\ucf54\uc778\uc774 ".concat(i,"\uac1c \uc801\ub9bd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),status:"success",duration:9e3,isClosable:!0}),h(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(v.a,{children:[Object(N.jsx)(y.a,{padding:"4",bg:"#f8eded",children:Object(N.jsxs)(S.a,{space:"4",children:[Object(N.jsx)(y.a,{children:x?Object(N.jsx)(D.a,{bg:"#eeb76b",border:"2px",borderColor:"#E9AD03",children:"\ud83d\ude4c \uc801\ub9bd \uc644\ub8cc!"}):Object(N.jsx)(D.a,{type:"submit",mr:"-px",bg:"#eeb76b",border:"2px",borderColor:"#E9AD03",onClick:C,children:"\ud83d\udcb0 \uc624\ub298\uc758 \ucf54\uc778 \uc801\ub9bd"})}),Object(N.jsx)(y.a,{children:Object(N.jsx)(D.a,{bg:"#e798ae",border:"2px",ml:4,borderColor:"#e4bad4",children:"\ud83c\udf9f\ufe0f \ud2f0\ucf13 \uad6c\uc785"})})]})}),Object(N.jsx)(y.a,{padding:"4",bg:"#f6dfeb",children:Object(N.jsx)(T,{user:n,board:c})}),Object(N.jsx)(y.a,{padding:"4",bg:"#faf3f3",children:Object(N.jsx)(P,{})})]})},Y=t(102),J=function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(n){var t,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===n.target.name&&(t=new m.auth.GoogleAuthProvider),e.next=3,k.signInWithPopup(t);case 3:i=e.sent,console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(N.jsx)(v.a,{centerContent:!0,children:Object(N.jsx)(y.a,{padding:"4",bg:"gray.100",children:Object(N.jsx)(D.a,{leftIcon:Object(N.jsx)(Y.a,{}),colorScheme:"messenger",onClick:e,name:"google",children:"\uad6c\uae00 \ub85c\uadf8\uc778"})})})},K=function(e){var n=e.user;return Object(N.jsx)(v.a,{children:Object(N.jsxs)(y.a,{padding:"4",bg:"gray.100",children:[Object(N.jsx)("li",{children:Object(N.jsx)("img",{src:n.photoURL})}),Object(N.jsxs)("li",{children:["\ub85c\uadf8\uc778\ud55c \uacc4\uc815 ",n.displayName]}),Object(N.jsxs)("li",{children:["\ub85c\uadf8\uc778\ud55c \uc774\uba54\uc77c ",n.email]}),Object(N.jsx)("button",{onClick:function(){return k.signOut()},children:"Log Out"})]})})},V=t(141),q=function(e){var n=e.user;return Object(N.jsx)(v.a,{children:Object(N.jsx)(y.a,{padding:"4",bg:"#caf7e3",borderTopLeftRadius:5,borderTopRightRadius:5,children:Object(N.jsxs)(V.a,{fontWeight:"medium",fontSize:"sm",children:[Object(N.jsx)(V.b,{children:Object(N.jsx)(d.c,{to:"/",children:"\ud648"})}),Object(N.jsx)(V.b,{children:Object(N.jsxs)(d.c,{to:"/profile",children:[n.displayName,"\ub2d8 \ubc18\uac11\uc2b5\ub2c8\ub2e4!"]})})]})})})},G=function(e){var n=e.isLoggedIn;return Object(N.jsx)(d.a,{basename:"https://canine89.github.io/cio",children:Object(N.jsxs)(d.b,{children:[n&&Object(N.jsx)(q,{user:n}),Object(N.jsxs)(s.d,{children:[n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(s.b,{exact:!0,path:"/",children:Object(N.jsx)(X,{user:n})}),Object(N.jsx)(s.b,{exact:!0,path:"/profile",children:Object(N.jsx)(K,{user:n})})]}):Object(N.jsx)(s.b,{exact:!0,path:"/",children:Object(N.jsx)(J,{})}),Object(N.jsx)(s.a,{from:"*",to:"/"})]})]})})},Z=t(143);var _=function(){var e=Object(i.useState)(!1),n=Object(o.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(!1),a=Object(o.a)(c,2),d=a[0],s=a[1];return Object(i.useEffect)((function(){k.onAuthStateChanged((function(e){s(e||!1)})),r(!0)}),[]),Object(N.jsxs)(Z.a,{children:[t?Object(N.jsx)(G,{isLoggedIn:d}):"initializing...",Object(N.jsx)(v.a,{children:Object(N.jsx)(y.a,{padding:"4",bg:"#e4bad4",borderBottomLeftRadius:5,borderBottomRightRadius:5,children:Object(N.jsxs)(F.a,{style:{color:"white",fontWeight:"bold"},children:["\ud83e\udd84 \ucd9c\uccb5\ucf54\uc778, ",(new Date).getFullYear()," "]})})})]})};a.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(_,{})}),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.b9a563a5.chunk.js.map